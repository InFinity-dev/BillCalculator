{% extends "base.html" %}

{% block title %}홈 - 공과금 정산 시스템{% endblock %}

{% block content %}
    <h1><span class="emoji">🏢</span> 다세대 주택 공과금 정산 시스템</h1>

    <div class="grid grid-3" style="margin: 30px 0;">
        <div class="stat-card">
            <h3>전체 층수</h3>
            <div class="value">{{ floors_count }}층</div>
        </div>

        <div class="stat-card" style="background: linear-gradient(135deg, #10b981, #059669);">
            <h3>전체 세대수</h3>
            <div class="value">{{ units_count }}세대</div>
        </div>

        <div class="stat-card" style="background: linear-gradient(135deg, #f59e0b, #d97706);">
            <h3>재실 / 공실</h3>
            <div class="value">{{ occupied_count }} / {{ vacant_count }}</div>
        </div>
    </div>

    <h2 style="margin-top: 40px;">📋 시스템 기능</h2>

    <div class="grid grid-2">
        <div style="background: #f8fafc; padding: 20px; border-radius: 12px;">
            <h3 style="color: #667eea; margin-bottom: 15px;">⚡ 전기요금 정산</h3>
            <p style="line-height: 1.6; color: #64748b; margin-bottom: 12px;">
                층단위로 부과된 전기요금을 각 세대의 계량기 사용량에 따라 비례 분배합니다.
                복지 할인, 바우처 할인을 적용하고 TV 수신료를 세대별로 부과합니다.
            </p>
            <ul style="line-height: 1.8; color: #64748b; font-size: 14px; margin: 0; padding-left: 20px;">
                <li><strong>N개월 묶음 정산:</strong> 2~12개월치를 한번에 정산 가능</li>
                <li><strong>TV 수신료 배분:</strong> 개별 부과 또는 균등 분배 선택</li>
                <li><strong>이전 검침값 자동 불러오기:</strong> 입력 편의성 향상</li>
            </ul>
        </div>

        <div style="background: #f8fafc; padding: 20px; border-radius: 12px;">
            <h3 style="color: #3b82f6; margin-bottom: 15px;">💧 수도요금 정산</h3>
            <p style="line-height: 1.6; color: #64748b; margin-bottom: 12px;">
                주택 단위로 부과된 수도요금을 각 세대의 거주 인원수에 비례하여 분배합니다.
                수도 복지 할인을 적용할 수 있습니다.
            </p>
            <ul style="line-height: 1.8; color: #64748b; font-size: 14px; margin: 0; padding-left: 20px;">
                <li><strong>세대별 제외 가능:</strong> 특정 세대를 정산에서 제외</li>
                <li><strong>인원수 비례 분배:</strong> 공정한 요금 분담</li>
                <li><strong>고객번호 표시:</strong> 요금 조회 편의성 제공</li>
            </ul>
        </div>

        <div style="background: #f8fafc; padding: 20px; border-radius: 12px;">
            <h3 style="color: #10b981; margin-bottom: 15px;">🏘️ 공동 공과금</h3>
            <p style="line-height: 1.6; color: #64748b; margin-bottom: 12px;">
                비정기적으로 발생하는 공동 공과금을 인원수 비례 또는 세대 균등 분배 방식으로 정산합니다.
            </p>
            <ul style="line-height: 1.8; color: #64748b; font-size: 14px; margin: 0; padding-left: 20px;">
                <li><strong>유연한 분배 방식:</strong> 항목별 특성에 맞게 선택</li>
                <li><strong>항목별 관리:</strong> 정산서에 상세 내역 표시</li>
                <li><strong>공실 자동 제외:</strong> 재실 세대만 부담</li>
            </ul>
        </div>

        <div style="background: #f8fafc; padding: 20px; border-radius: 12px;">
            <h3 style="color: #f59e0b; margin-bottom: 15px;">📊 종합 정산</h3>
            <p style="line-height: 1.6; color: #64748b; margin-bottom: 12px;">
                각 공과금 항목을 월별로 선택하여 조합하고, 세대별 최종 청구서를 생성합니다.
            </p>
            <ul style="line-height: 1.8; color: #64748b; font-size: 14px; margin: 0; padding-left: 20px;">
                <li><strong>미납금/초과납부 자동 이월:</strong> 전월 잔액 자동 반영</li>
                <li><strong>10원 단위 올림 처리:</strong> 소액 계산 편의</li>
                <li><strong>인쇄용 뷰:</strong> 세대별 잘라쓰기 가능</li>
            </ul>
        </div>

        <div style="background: #f8fafc; padding: 20px; border-radius: 12px;">
            <h3 style="color: #8b5cf6; margin-bottom: 15px;">💳 납부 내역 관리</h3>
            <p style="line-height: 1.6; color: #64748b; margin-bottom: 12px;">
                세대별 입금 내역을 관리하고 누적 잔액을 실시간으로 확인할 수 있습니다.
            </p>
            <ul style="line-height: 1.8; color: #64748b; font-size: 14px; margin: 0; padding-left: 20px;">
                <li><strong>세대 중심 관리:</strong> 모든 정산 이력 한눈에 보기</li>
                <li><strong>잔액 자동 계산:</strong> 이월 항목 중복 방지</li>
                <li><strong>정합성 검증:</strong> 전체 잔액 현황 확인</li>
            </ul>
        </div>

        <div style="background: #f8fafc; padding: 20px; border-radius: 12px;">
            <h3 style="color: #ec4899; margin-bottom: 15px;">🔍 요금 조회 바로가기</h3>
            <p style="line-height: 1.6; color: #64748b; margin-bottom: 12px;">
                한전, 수도사업소 등 외부 요금 조회 사이트를 설정하여 계산 페이지에서 바로 접근할 수 있습니다.
            </p>
            <ul style="line-height: 1.8; color: #64748b; font-size: 14px; margin: 0; padding-left: 20px;">
                <li><strong>빠른 요금 확인:</strong> 별도 검색 불필요</li>
                <li><strong>고객번호 표시:</strong> 조회 시 편리함</li>
                <li><strong>설정 페이지에서 관리:</strong> 언제든 수정 가능</li>
            </ul>
        </div>
    </div>

    <h2 style="margin-top: 40px;">🚀 빠른 시작</h2>

    <div style="background: #fef3c7; padding: 12px 40px; border-radius: 12px; border: 2px solid #fbbf24;">
        <ol style="line-height: 2; color: #78350f;">
            <li><strong>설정 페이지</strong>에서 층과 세대 정보를 등록하세요.</li>
            <li><strong>계산기 페이지</strong>에서 매월 공과금을 입력하고 계산하세요.</li>
            <li><strong>조회 페이지</strong>에서 정산 내역을 확인하세요.</li>
            <li><strong>정산 페이지</strong>에서 최종 청구서를 생성하세요.</li>
        </ol>
    </div>

    <div style="margin-top: 30px; text-align: center;">
        <a href="{{ url_for('settings') }}" class="btn btn-primary" style="font-size: 16px; padding: 15px 30px;">
            ⚙️ 설정 시작하기
        </a>
    </div>
{% endblock %}